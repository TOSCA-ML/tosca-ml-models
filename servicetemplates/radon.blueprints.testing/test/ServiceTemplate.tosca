tosca_definitions_version: tosca_simple_yaml_1_3

metadata:
  targetNamespace: "radon.blueprints.testing"
topology_template:
  node_templates:
    Accuracy_0:
      type: mltosca.nodes.Evaluation.Accuracy
      metadata:
        x: "1496"
        y: "280"
        displayName: "Accuracy"
      requirements:
        - host:
            node: EvaluationPipeline_0
            relationship: con_HostedOnEvaluation_0
            capability: host
    RandomForestClassifier_0:
      type: mltosca.nodes.Sklearn.RandomForestClassifier
      metadata:
        x: "1161"
        y: "538"
        displayName: "RandomForestClassifier"
      properties:
        criterion: "gini"
        min_samples_split: 2
        max_depth: 3
        n_estimators: 100
        target: "Survived"
      requirements:
        - dependency:
            node: Pipeline_0
            relationship: con_DependsOn_2
            capability: feature
        - host:
            node: Conda_0
            relationship: con_HostedOn_2
            capability: host
    KeepColumns_0:
      type: mltosca.nodes.Preprocessing.KeepColumns
      metadata:
        x: "604"
        y: "148"
        displayName: "KeepColumns"
      properties:
        columns: "Pclass, Age, Survived, Parch"
      requirements:
        - host:
            node: Pipeline_0
            relationship: con_HostedOnPipeline_0
            capability: host
    RemoveNanRows_0:
      type: mltosca.nodes.Preprocessing.RemoveNanRows
      metadata:
        x: "1043"
        y: "118"
        displayName: "RemoveNanRows"
      requirements:
        - dependency:
            node: KeepColumns_0
            relationship: con_DependsOn_1
            capability: feature
        - host:
            node: Pipeline_0
            relationship: con_HostedOnPipeline_1
            capability: host
    Pipeline_0:
      type: mltosca.nodes.Preprocessing.Pipeline
      metadata:
        x: "875"
        y: "400"
        displayName: "Pipeline"
      requirements:
        - dependency:
            node: ReadCSV_0
            relationship: con_DependsOn_0
            capability: feature
        - host:
            node: Conda_0
            relationship: con_HostedOn_1
            capability: host
    Conda_0:
      type: mltosca.nodes.Environment.Conda
      metadata:
        x: "616"
        y: "713"
        displayName: "Conda"
    ReadCSV_0:
      type: mltosca.nodes.Reading.ReadCSV
      metadata:
        x: "322"
        y: "406"
        displayName: "ReadCSV"
      properties:
        filepath: "/home/artjom/thesis/TOSCA-ML/project1/data/data.csv"
        delimiter: ","
        encoding: "UTF-8"
      requirements:
        - host:
            node: Conda_0
            relationship: con_HostedOn_0
            capability: host
    EvaluationPipeline_0:
      type: mltosca.nodes.Evaluation.EvaluationPipeline
      metadata:
        x: "1528"
        y: "591"
        displayName: "EvaluationPipeline"
      requirements:
        - dependency:
            node: RandomForestClassifier_0
            relationship: con_DependsOn_3
            capability: feature
        - host:
            node: Conda_0
            relationship: con_HostedOn_3
            capability: host
  relationship_templates:
    con_HostedOn_2:
      type: tosca.relationships.HostedOn
    con_DependsOn_0:
      type: tosca.relationships.DependsOn
    con_HostedOn_3:
      type: tosca.relationships.HostedOn
    con_DependsOn_1:
      type: tosca.relationships.DependsOn
    con_HostedOn_0:
      type: tosca.relationships.HostedOn
    con_HostedOn_1:
      type: tosca.relationships.HostedOn
    con_DependsOn_2:
      type: tosca.relationships.DependsOn
    con_DependsOn_3:
      type: tosca.relationships.DependsOn
    con_HostedOnPipeline_0:
      type: mltosca.relationships.HostedOnPipeline
    con_HostedOnEvaluation_0:
      type: mltosca.relationships.HostedOnEvaluation
    con_HostedOnPipeline_1:
      type: mltosca.relationships.HostedOnPipeline
